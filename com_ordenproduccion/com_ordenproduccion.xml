<?xml version="1.0" encoding="utf-8"?>
<extension type="component" version="5.0" method="upgrade">
    <name>COM_ORDENPRODUCCION</name>
    <author>Grimpsa</author>
    <creationDate>2025-01-27</creationDate>
    <copyright>Copyright (C) 2025 Grimpsa. All rights reserved.</copyright>
    <license>GNU General Public License version 2 or later</license>
    <authorEmail>admin@grimpsa.com</authorEmail>
    <authorUrl>https://grimpsa.com</authorUrl>
    <version>3.70.0-STABLE</version>
    <description>COM_ORDENPRODUCCION_XML_DESCRIPTION</description>

    <namespace path="src">Grimpsa\Component\Ordenproduccion</namespace>

    <files folder="site">
        <filename>ordenproduccion.php</filename>
        <folder>src</folder>
        <folder>tmpl</folder>
        <folder>language</folder>
        <folder>forms</folder>
    </files>

    <media destination="com_ordenproduccion" folder="media">
        <folder>css</folder>
        <folder>js</folder>
    </media>

    <administration>
        <menu link="option=com_ordenproduccion&amp;view=dashboard" img="class:cog">COM_ORDENPRODUCCION</menu>
        <submenu>
            <menu link="option=com_ordenproduccion&amp;view=dashboard">COM_ORDENPRODUCCION_MENU_DASHBOARD</menu>
            <menu link="option=com_ordenproduccion&amp;view=ordenes">COM_ORDENPRODUCCION_MENU_ORDERS</menu>
            <menu link="option=com_ordenproduccion&amp;view=technicians">COM_ORDENPRODUCCION_MENU_TECHNICIANS</menu>
            <menu link="option=com_ordenproduccion&amp;view=webhook">COM_ORDENPRODUCCION_MENU_WEBHOOK</menu>
            <menu link="option=com_ordenproduccion&amp;view=debug">COM_ORDENPRODUCCION_MENU_DEBUG</menu>
            <menu link="option=com_ordenproduccion&amp;view=settings">COM_ORDENPRODUCCION_MENU_SETTINGS</menu>
            <menu link="option=com_ordenproduccion&amp;view=testing">COM_ORDENPRODUCCION_MENU_TESTING</menu>
        </submenu>
        <files folder="admin">
            <filename>services/provider.php</filename>
            <filename>access.xml</filename>
            <folder>forms</folder>
            <folder>src</folder>
            <folder>tmpl</folder>
            <folder>language</folder>
            <folder>sql</folder>
        </files>
    </administration>

    <config>
        <fields name="params">
            <fieldset name="component" label="COM_ORDENPRODUCCION_CONFIG_COMPONENT_LABEL">
                <field
                    name="enable_debug"
                    type="radio"
                    label="COM_ORDENPRODUCCION_CONFIG_ENABLE_DEBUG_LABEL"
                    description="COM_ORDENPRODUCCION_CONFIG_ENABLE_DEBUG_DESC"
                    default="0"
                    class="btn-group btn-group-yesno"
                >
                    <option value="1">JYES</option>
                    <option value="0">JNO</option>
                </field>
                <field
                    name="debug_log_level"
                    type="list"
                    label="COM_ORDENPRODUCCION_CONFIG_DEBUG_LOG_LEVEL_LABEL"
                    description="COM_ORDENPRODUCCION_CONFIG_DEBUG_LOG_LEVEL_DESC"
                    default="DEBUG"
                >
                    <option value="ERROR">COM_ORDENPRODUCCION_DEBUG_ERROR</option>
                    <option value="WARNING">COM_ORDENPRODUCCION_DEBUG_WARNING</option>
                    <option value="INFO">COM_ORDENPRODUCCION_DEBUG_INFO</option>
                    <option value="DEBUG">COM_ORDENPRODUCCION_DEBUG_DEBUG</option>
                </field>
                <field
                    name="debug_log_retention_days"
                    type="number"
                    label="COM_ORDENPRODUCCION_CONFIG_DEBUG_LOG_RETENTION_LABEL"
                    description="COM_ORDENPRODUCCION_CONFIG_DEBUG_LOG_RETENTION_DESC"
                    default="7"
                    min="1"
                    max="365"
                />
                <field
                    name="margen_ganancia"
                    type="number"
                    label="COM_ORDENPRODUCCION_PARAM_MARGEN_GANANCIA"
                    description="COM_ORDENPRODUCCION_PARAM_MARGEN_GANANCIA_DESC"
                    default="0"
                    min="0"
                    max="100"
                    step="0.01"
                />
                <field
                    name="iva"
                    type="number"
                    label="COM_ORDENPRODUCCION_PARAM_IVA"
                    description="COM_ORDENPRODUCCION_PARAM_IVA_DESC"
                    default="0"
                    min="0"
                    max="100"
                    step="0.01"
                />
                <field
                    name="isr"
                    type="number"
                    label="COM_ORDENPRODUCCION_PARAM_ISR"
                    description="COM_ORDENPRODUCCION_PARAM_ISR_DESC"
                    default="0"
                    min="0"
                    max="100"
                    step="0.01"
                />
                <field
                    name="comision_venta"
                    type="number"
                    label="COM_ORDENPRODUCCION_PARAM_COMISION_VENTA"
                    description="COM_ORDENPRODUCCION_PARAM_COMISION_VENTA_DESC"
                    default="0"
                    min="0"
                    max="100"
                    step="0.01"
                />
            </fieldset>
        </fields>
    </config>
</extension>
